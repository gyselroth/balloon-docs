



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.3">
    
    
      
        <title>Upgrade - balloon</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.30686662.css">
      
      
    
    
      <script src="../../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#2x-26x" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="balloon" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              balloon
            </span>
            <span class="md-header-nav__topic">
              
                Upgrade
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../.." title="balloon" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    balloon
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="balloon" class="md-nav__link">
      balloon
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Desktop client
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Desktop client
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../desktop-client/" title="balloon desktop client" class="md-nav__link">
      balloon desktop client
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../desktop-client/changelog/" title="Changelog" class="md-nav__link">
      Changelog
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../desktop-client/configuration/" title="Custom configuration" class="md-nav__link">
      Custom configuration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../desktop-client/contribute/" title="Contribute to balloon desktop client" class="md-nav__link">
      Contribute to balloon desktop client
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../desktop-client/installation/" title="Installation" class="md-nav__link">
      Installation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../desktop-client/upgrade/" title="Upgrade" class="md-nav__link">
      Upgrade
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Sdk
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Sdk
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../sdk/api/" title="Api" class="md-nav__link">
      Api
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-2" type="checkbox" id="nav-3-2">
    
    <label class="md-nav__link" for="nav-3-2">
      Go
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-2">
        Go
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../sdk/go/" title="balloon go SDK" class="md-nav__link">
      balloon go SDK
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-3" type="checkbox" id="nav-3-3">
    
    <label class="md-nav__link" for="nav-3-3">
      Nodejs
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-3">
        Nodejs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../sdk/nodejs/" title="balloon node.js SDK with typescript support" class="md-nav__link">
      balloon node.js SDK with typescript support
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-4" type="checkbox" id="nav-3-4">
    
    <label class="md-nav__link" for="nav-3-4">
      Php
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-4">
        Php
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../sdk/php/" title="balloon php sdk" class="md-nav__link">
      balloon php sdk
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-4-2" type="checkbox" id="nav-3-4-2">
    
    <label class="md-nav__link" for="nav-3-4-2">
      Api
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-3-4-2">
        Api
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../sdk/php/Api/BallonAppElasticsearchV2Api/" title="Balloon\Sdk\BallonAppElasticsearchV2Api" class="md-nav__link">
      Balloon\Sdk\BallonAppElasticsearchV2Api
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sdk/php/Api/ConvertV2Api/" title="Balloon\Sdk\ConvertV2Api" class="md-nav__link">
      Balloon\Sdk\ConvertV2Api
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sdk/php/Api/CoreV2Api/" title="Balloon\Sdk\CoreV2Api" class="md-nav__link">
      Balloon\Sdk\CoreV2Api
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sdk/php/Api/DesktopclientV2Api/" title="Balloon\Sdk\DesktopclientV2Api" class="md-nav__link">
      Balloon\Sdk\DesktopclientV2Api
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sdk/php/Api/NotificationV2Api/" title="Balloon\Sdk\NotificationV2Api" class="md-nav__link">
      Balloon\Sdk\NotificationV2Api
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sdk/php/Api/PreviewV2Api/" title="Balloon\Sdk\PreviewV2Api" class="md-nav__link">
      Balloon\Sdk\PreviewV2Api
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sdk/php/Api/SharelinkV2Api/" title="Balloon\Sdk\SharelinkV2Api" class="md-nav__link">
      Balloon\Sdk\SharelinkV2Api
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sdk/php/Api/WopiV2Api/" title="Balloon\Sdk\WopiV2Api" class="md-nav__link">
      Balloon\Sdk\WopiV2Api
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-4-3" type="checkbox" id="nav-3-4-3">
    
    <label class="md-nav__link" for="nav-3-4-3">
      Model
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-3-4-3">
        Model
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../sdk/php/Model/ConvertV2Slave/" title="ConvertV2Slave" class="md-nav__link">
      ConvertV2Slave
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sdk/php/Model/ConvertV2Slaves/" title="ConvertV2Slaves" class="md-nav__link">
      ConvertV2Slaves
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sdk/php/Model/CoreV2AclRule/" title="CoreV2AclRule" class="md-nav__link">
      CoreV2AclRule
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sdk/php/Model/CoreV2AclRuleRole/" title="CoreV2AclRuleRole" class="md-nav__link">
      CoreV2AclRuleRole
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sdk/php/Model/CoreV2ApiRoot/" title="CoreV2ApiRoot" class="md-nav__link">
      CoreV2ApiRoot
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sdk/php/Model/CoreV2ChunkSession/" title="CoreV2ChunkSession" class="md-nav__link">
      CoreV2ChunkSession
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sdk/php/Model/CoreV2Collection/" title="CoreV2Collection" class="md-nav__link">
      CoreV2Collection
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sdk/php/Model/CoreV2Collections/" title="CoreV2Collections" class="md-nav__link">
      CoreV2Collections
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sdk/php/Model/CoreV2Delta/" title="CoreV2Delta" class="md-nav__link">
      CoreV2Delta
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sdk/php/Model/CoreV2EventLog/" title="CoreV2EventLog" class="md-nav__link">
      CoreV2EventLog
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sdk/php/Model/CoreV2EventLogClient/" title="CoreV2EventLogClient" class="md-nav__link">
      CoreV2EventLogClient
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sdk/php/Model/CoreV2EventLogNode/" title="CoreV2EventLogNode" class="md-nav__link">
      CoreV2EventLogNode
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sdk/php/Model/CoreV2EventLogParent/" title="CoreV2EventLogParent" class="md-nav__link">
      CoreV2EventLogParent
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sdk/php/Model/CoreV2EventLogs/" title="CoreV2EventLogs" class="md-nav__link">
      CoreV2EventLogs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sdk/php/Model/CoreV2File/" title="CoreV2File" class="md-nav__link">
      CoreV2File
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sdk/php/Model/CoreV2FileHistory/" title="CoreV2FileHistory" class="md-nav__link">
      CoreV2FileHistory
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sdk/php/Model/CoreV2FileHistoryUser/" title="CoreV2FileHistoryUser" class="md-nav__link">
      CoreV2FileHistoryUser
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sdk/php/Model/CoreV2Files/" title="CoreV2Files" class="md-nav__link">
      CoreV2Files
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sdk/php/Model/CoreV2Group/" title="CoreV2Group" class="md-nav__link">
      CoreV2Group
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sdk/php/Model/CoreV2Groups/" title="CoreV2Groups" class="md-nav__link">
      CoreV2Groups
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sdk/php/Model/CoreV2JsonPatch/" title="CoreV2JsonPatch" class="md-nav__link">
      CoreV2JsonPatch
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sdk/php/Model/CoreV2Link/" title="CoreV2Link" class="md-nav__link">
      CoreV2Link
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sdk/php/Model/CoreV2Links/" title="CoreV2Links" class="md-nav__link">
      CoreV2Links
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sdk/php/Model/CoreV2ListLinks/" title="CoreV2ListLinks" class="md-nav__link">
      CoreV2ListLinks
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sdk/php/Model/CoreV2Node/" title="CoreV2Node" class="md-nav__link">
      CoreV2Node
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sdk/php/Model/CoreV2NodeMeta/" title="CoreV2NodeMeta" class="md-nav__link">
      CoreV2NodeMeta
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sdk/php/Model/CoreV2Nodes/" title="CoreV2Nodes" class="md-nav__link">
      CoreV2Nodes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sdk/php/Model/CoreV2OAuth2Token/" title="CoreV2OAuth2Token" class="md-nav__link">
      CoreV2OAuth2Token
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sdk/php/Model/CoreV2Resource/" title="CoreV2Resource" class="md-nav__link">
      CoreV2Resource
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sdk/php/Model/CoreV2ResourceList/" title="CoreV2ResourceList" class="md-nav__link">
      CoreV2ResourceList
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sdk/php/Model/CoreV2Share/" title="CoreV2Share" class="md-nav__link">
      CoreV2Share
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sdk/php/Model/CoreV2User/" title="CoreV2User" class="md-nav__link">
      CoreV2User
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sdk/php/Model/CoreV2Users/" title="CoreV2Users" class="md-nav__link">
      CoreV2Users
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sdk/php/Model/NotificationV2Mail/" title="NotificationV2Mail" class="md-nav__link">
      NotificationV2Mail
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sdk/php/Model/NotificationV2Notification/" title="NotificationV2Notification" class="md-nav__link">
      NotificationV2Notification
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sdk/php/Model/NotificationV2Notifications/" title="NotificationV2Notifications" class="md-nav__link">
      NotificationV2Notifications
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sdk/php/Model/OfficeV2WopiDocument/" title="OfficeV2WopiDocument" class="md-nav__link">
      OfficeV2WopiDocument
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" checked>
    
    <label class="md-nav__link" for="nav-4">
      Server
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Server
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../" title="balloon" class="md-nav__link">
      balloon
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../changelog/" title="Changelog" class="md-nav__link">
      Changelog
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../contribute/" title="Contribute to balloon" class="md-nav__link">
      Contribute to balloon
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../installation-helm/" title="balloon Helm Chart" class="md-nav__link">
      balloon Helm Chart
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../installation/" title="Installation" class="md-nav__link">
      Installation
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Upgrade
      </label>
    
    <a href="./" title="Upgrade" class="md-nav__link md-nav__link--active">
      Upgrade
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#2x-26x" class="md-nav__link">
    2.x -&gt; 2.6.x
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#upgrade" class="md-nav__link">
    Upgrade
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2x-25x" class="md-nav__link">
    2.x -&gt; 2.5.x
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#elasticsearch" class="md-nav__link">
    Elasticsearch
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#libreoffice" class="md-nav__link">
    Libreoffice
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configmap" class="md-nav__link">
    ConfigMap
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upgrade_1" class="md-nav__link">
    Upgrade
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2x-24x" class="md-nav__link">
    2.x -&gt; 2.4.x
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuration-changes" class="md-nav__link">
    Configuration changes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2x-23x" class="md-nav__link">
    2.x -&gt; 2.3.x
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#upgrade_2" class="md-nav__link">
    Upgrade
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2x-21x" class="md-nav__link">
    2.x -&gt; 2.1.x
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1x-2x" class="md-nav__link">
    1.x -&gt; 2.x
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#deployment" class="md-nav__link">
    Deployment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configration" class="md-nav__link">
    Configration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upgrade_3" class="md-nav__link">
    Upgrade
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#api" class="md-nav__link">
    API
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0x-1x" class="md-nav__link">
    0.x -&gt; 1.x
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#config" class="md-nav__link">
    Config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies" class="md-nav__link">
    Dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#database" class="md-nav__link">
    Database
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mongodb-30" class="md-nav__link">
    (MongoDB &lt; 3.0)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mongodb-30_1" class="md-nav__link">
    (MongoDB &gt; 3.0)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-7" type="checkbox" id="nav-4-7">
    
    <label class="md-nav__link" for="nav-4-7">
      Apps
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-7">
        Apps
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../apps/elasticsearch/" title="Elasticsearch" class="md-nav__link">
      Elasticsearch
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Web client
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Web client
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../web-client/" title="balloon web client" class="md-nav__link">
      balloon web client
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../web-client/changelog/" title="Changelog" class="md-nav__link">
      Changelog
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../web-client/contribute/" title="Contribute to balloon web client" class="md-nav__link">
      Contribute to balloon web client
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../web-client/upgrade/" title="Upgrade" class="md-nav__link">
      Upgrade
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#2x-26x" class="md-nav__link">
    2.x -&gt; 2.6.x
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#upgrade" class="md-nav__link">
    Upgrade
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2x-25x" class="md-nav__link">
    2.x -&gt; 2.5.x
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#elasticsearch" class="md-nav__link">
    Elasticsearch
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#libreoffice" class="md-nav__link">
    Libreoffice
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configmap" class="md-nav__link">
    ConfigMap
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upgrade_1" class="md-nav__link">
    Upgrade
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2x-24x" class="md-nav__link">
    2.x -&gt; 2.4.x
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuration-changes" class="md-nav__link">
    Configuration changes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2x-23x" class="md-nav__link">
    2.x -&gt; 2.3.x
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#upgrade_2" class="md-nav__link">
    Upgrade
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2x-21x" class="md-nav__link">
    2.x -&gt; 2.1.x
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1x-2x" class="md-nav__link">
    1.x -&gt; 2.x
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#deployment" class="md-nav__link">
    Deployment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configration" class="md-nav__link">
    Configration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upgrade_3" class="md-nav__link">
    Upgrade
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#api" class="md-nav__link">
    API
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0x-1x" class="md-nav__link">
    0.x -&gt; 1.x
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#config" class="md-nav__link">
    Config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies" class="md-nav__link">
    Dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#database" class="md-nav__link">
    Database
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mongodb-30" class="md-nav__link">
    (MongoDB &lt; 3.0)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mongodb-30_1" class="md-nav__link">
    (MongoDB &gt; 3.0)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>Upgrade</h1>
                
                <h2 id="2x-26x">2.x -&gt; 2.6.x</h2>
<h3 id="upgrade">Upgrade</h3>
<p>Upgrading to v2.6 requires an execution of: </p>
<pre><code>ballooncli upgrade -vvvv
</code></pre>

<h2 id="2x-25x">2.x -&gt; 2.5.x</h2>
<h3 id="elasticsearch">Elasticsearch</h3>
<p>balloon v2.5 requires elasticsearch 6.x and the newer elasticsearch ingest-attachment instead of mapper-attachment.
This requires a full reindex of elasticsearch:</p>
<blockquote>
<p><strong>Note</strong> The reindex process makes use of the async functionality of balloon, the more worker you have the faster it will index.
This may take while to fully index all documents.</p>
</blockquote>
<pre><code>ballooncli elasticsearch reindex -vvv
</code></pre>

<blockquote>
<p><strong>Note</strong> v2.5 creates new elasticsearch indices (<code>blobs</code> and <code>nodes</code>). You may drop the previously indices (default name: balloon).</p>
</blockquote>
<h3 id="libreoffice">Libreoffice</h3>
<p>balloon v2.5 requires loolwsd for office previews. Previously libreoffice (soffice.bin) has been shipped with balloon or has been declared as optional requirement.
Such previews are now generated via loolwsd. loolwsd may either be deployed via docker image or as debian packages. See the docs.
You may need to configure the new env variable <code>BALLOON_LIBREOFFICE_URL</code>.</p>
<h3 id="configmap">ConfigMap</h3>
<p>If you had a custom config mapped in the docker image this was previously mapped in <code>/usr/share/balloon/config</code>.
Using v2.5 you need to map the config to <code>/etc/balloon</code>.</p>
<h3 id="upgrade_1">Upgrade</h3>
<p>Upgrading to v2.5 requires an execution of: </p>
<pre><code>ballooncli upgrade -vvvv
</code></pre>

<p>(Mostly because of <a href="https://github.com/gyselroth/balloon/issues/285">#285</a>)</p>
<h2 id="2x-24x">2.x -&gt; 2.4.x</h2>
<p>balloon v2.4.x comes with the stable version v3.0.0 of <a href="https://github.com/gyselroth/mongodb-php-task-scheduler">\TaskScheduler</a> which requires the sysvmsg dependency
built into php. Note: This only affects you if you built php from scratch. The balloon docker image comes already with this dependency and if you are using the balloon deb package, most 
linux flavors already ship php with this dependency.</p>
<p>A one-time flush of the process queue is required:</p>
<pre><code class="sh">ballooncli jobs -f -vvvv
</code></pre>

<h3 id="configuration-changes">Configuration changes</h3>
<p>ballon v2.4.x comes with micro PSR-11 container v.2.1.0 in which any selects statements are required to be replaced with calls statements. 
(selects statements just get ignored, upgrade to calls for required settings.)</p>
<p>For example, the MongoDB database name may be changed from:</p>
<blockquote>
<p><strong>Note</strong> This only requried if you have another database name than <code>balloon</code>.</p>
</blockquote>
<pre><code>selects:
- method: selectDatabase
  arguments:
    databaseName: 'balloon2'
</code></pre>

<p>to:</p>
<pre><code> calls:
 - method: selectDatabase
   select: true
   arguments:
    databaseName: 'balloon2'
</code></pre>

<h2 id="2x-23x">2.x -&gt; 2.3.x</h2>
<h3 id="upgrade_2">Upgrade</h3>
<p>Run upgrade is required to upgrade all nodes to 2.3.x:</p>
<pre><code class="sh">ballooncli upgrade -vvvv
</code></pre>

<h2 id="2x-21x">2.x -&gt; 2.1.x</h2>
<p>Run upgrade is required to upgrade all nodes to 2.1.x:</p>
<pre><code class="sh">ballooncli upgrade -vvvv
</code></pre>

<h2 id="1x-2x">1.x -&gt; 2.x</h2>
<h3 id="deployment">Deployment</h3>
<p>balloon 2.0.0 can be easily deployed using debian packages or docker images. Consider to rethink they way you deploy new balloon versions.</p>
<h3 id="configration">Configration</h3>
<p>There is a completely new and rewritten configuration implemented in balloon 2.0.0! The best you can do to migrate is to actually reconfigure all your previous settings
from v1.0.x. There is now way to automatically migrate your configuration.</p>
<h3 id="upgrade_3">Upgrade</h3>
<p>balloon 2.0.0 features an in-built upgrade mechanism. All you need to do after migrating the configuration is run the upgrade:</p>
<pre><code class="sh">ballooncli upgrade -vvvv start
</code></pre>

<h3 id="api">API</h3>
<p>balloon 2.0.0 also brings the REST API v2. v1 is still fully supported but only receives bug fixes and no new features!
It is recommended that you upgrade your client to the new API v2.</p>
<h2 id="0x-1x">0.x -&gt; 1.x</h2>
<h3 id="config">Config</h3>
<ul>
<li>If available, rename src/task.xml to src/cli.xml</li>
<li>Remove any underscore from plugin class names in src/config.xml, src/local.xml and src/cli.xml</li>
<li>log format was changed, @see dist/config.xml to get the new format</li>
<li>Add api, dav, share as modules to your src/config.xml, @see dist/config.xml</li>
</ul>
<h3 id="dependencies">Dependencies</h3>
<ul>
<li>PHP7.1 is now required, upgrade your server to php7.1</li>
<li>run ./build.sh --dep afterwards to check if all necessary libraries are installed</li>
<li>First entry file changed to index.php, please verify your webserver configuration, @see dist/nginx.conf</li>
<li>(Optional: your should run ./build.sh --test to verify the new setup)</li>
</ul>
<h3 id="database">Database</h3>
<h4 id="mongodb-30">(MongoDB &lt; 3.0)</h4>
<pre><code class="javascript"> db.storage.update({'deleted': true},{$set: {'deleted': new Date()}}, {multi: true})
 db.storage.update({'size': 0},{$set: {'file': null}}, {multi: true})
 db.user.update({},{$unset: {'share_attr_sync': &quot;&quot;}}, {multi: true}) 
 db.fs.files.remove({length: 0})
 db.storage.ensureIndex({&quot;reference&quot;: 1})
 db.storage.ensureIndex({&quot;shared&quot;: 1})
 db.fs.files.dropIndex({&quot;filename&quot;: 1})
 db.fs.files.dropIndex({&quot;filename&quot;: 1,&quot;uploadDate&quot;:1})
 db.delta.createIndex({&quot;owner&quot;: 1})
 db.delta.createIndex({&quot;timestamp&quot;: 1})
 db.delta.createIndex({&quot;node&quot;: 1})
</code></pre>

<h4 id="mongodb-30_1">(MongoDB &gt; 3.0)</h4>
<pre><code class="javascript"> db.storage.updateMany({'deleted': true},{$set: {'deleted': new Date()}})
 db.storage.updateMany({'size': 0},{$set: {'file': null}})
 db.user.updateMany({},{$unset: {'share_attr_sync': &quot;&quot;}})
 db.fs.files.remove({length: 0})
 db.storage.ensureIndex({&quot;reference&quot;: 1})
 db.storage.ensureIndex({&quot;shared&quot;: 1})
 db.fs.files.dropIndex({&quot;filename&quot;: 1})
 db.fs.files.dropIndex({&quot;filename&quot;: 1,&quot;uploadDate&quot;:1})
 db.delta.createIndex({&quot;owner&quot;: 1})
 db.delta.createIndex({&quot;timestamp&quot;: 1})
 db.delta.createIndex({&quot;node&quot;: 1})
</code></pre>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../installation/" title="Installation" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Installation
              </span>
            </div>
          </a>
        
        
          <a href="../apps/elasticsearch/" title="Elasticsearch" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Elasticsearch
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.ac79c3b0.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
    
  </body>
</html>